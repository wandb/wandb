# Generated by ariadne-codegen
# Source: tools/graphql_codegen/api/

__all__ = [
    "CREATE_PROJECT_GQL",
    "CREATE_USER_FROM_ADMIN_GQL",
    "DELETE_API_KEY_GQL",
    "DELETE_PROJECT_GQL",
    "FETCH_REGISTRY_GQL",
    "GENERATE_API_KEY_GQL",
    "GET_DEFAULT_ENTITY_GQL",
    "GET_PROJECTS_GQL",
    "GET_PROJECT_GQL",
    "GET_VIEWER_GQL",
    "RENAME_PROJECT_GQL",
    "SEARCH_USERS_GQL",
    "UPSERT_REGISTRY_PROJECT_GQL",
]

FETCH_REGISTRY_GQL = """
query FetchRegistry($name: String, $entityName: String) {
  entity(name: $entityName) {
    project(name: $name) {
      ...RegistryFragment
    }
  }
}

fragment RegistryFragment on Project {
  id
  allowAllArtifactTypesInRegistry
  artifactTypes(includeAll: true) {
    edges {
      node {
        name
      }
    }
  }
  name
  description
  createdAt
  updatedAt
  access
}
"""

RENAME_PROJECT_GQL = """
mutation renameProject($entityName: String!, $oldProjectName: String!, $newProjectName: String!) {
  renameProject(
    input: {entityName: $entityName, oldProjectName: $oldProjectName, newProjectName: $newProjectName}
  ) {
    project {
      name
    }
    inserted
  }
}
"""

UPSERT_REGISTRY_PROJECT_GQL = """
mutation UpsertRegistryProject($description: String, $entityName: String, $name: String, $access: String, $allowAllArtifactTypesInRegistry: Boolean, $artifactTypes: [ArtifactTypeInput!]) {
  upsertModel(
    input: {description: $description, entityName: $entityName, name: $name, access: $access, allowAllArtifactTypesInRegistry: $allowAllArtifactTypesInRegistry, artifactTypes: $artifactTypes}
  ) {
    project {
      ...RegistryFragment
    }
    inserted
  }
}

fragment RegistryFragment on Project {
  id
  allowAllArtifactTypesInRegistry
  artifactTypes(includeAll: true) {
    edges {
      node {
        name
      }
    }
  }
  name
  description
  createdAt
  updatedAt
  access
}
"""

DELETE_PROJECT_GQL = """
mutation deleteProject($id: String!) {
  deleteModel(input: {id: $id}) {
    success
    __typename
  }
}
"""

GET_PROJECTS_GQL = """
query GetProjects($entity: String, $cursor: String, $perPage: Int = 50) {
  models(entityName: $entity, after: $cursor, first: $perPage) {
    pageInfo {
      ...PageInfoFragment
    }
    edges {
      node {
        ...ProjectFragment
      }
    }
  }
}

fragment PageInfoFragment on PageInfo {
  __typename
  endCursor
  hasNextPage
}

fragment ProjectFragment on Project {
  __typename
  id
  name
  entityName
  createdAt
  isBenchmark
}
"""

GET_PROJECT_GQL = """
query GetProject($name: String!, $entity: String!) {
  project(name: $name, entityName: $entity) {
    ...ProjectFragment
  }
}

fragment ProjectFragment on Project {
  __typename
  id
  name
  entityName
  createdAt
  isBenchmark
}
"""

CREATE_PROJECT_GQL = """
mutation CreateProject($input: UpsertModelInput!) {
  result: upsertModel(input: $input) {
    project {
      ...CreatedProjectFragment
    }
    model {
      ...CreatedProjectFragment
    }
    inserted
  }
}

fragment CreatedProjectFragment on Project {
  id
  name
  entityName
  description
  access
  views
}
"""

SEARCH_USERS_GQL = """
query SearchUsers($query: String) {
  users(query: $query) {
    edges {
      node {
        ...FullUserFragment
      }
    }
  }
}

fragment ApiKeyFragment on ApiKey {
  id
  name
  description
}

fragment FullUserFragment on User {
  id
  name
  username
  email
  admin
  flags
  entity
  deletedAt
  apiKeys {
    edges {
      node {
        ...ApiKeyFragment
      }
    }
  }
  teams {
    edges {
      node {
        name
      }
    }
  }
}
"""

GET_VIEWER_GQL = """
query GetViewer {
  viewer {
    ...FullUserFragment
  }
}

fragment ApiKeyFragment on ApiKey {
  id
  name
  description
}

fragment FullUserFragment on User {
  id
  name
  username
  email
  admin
  flags
  entity
  deletedAt
  apiKeys {
    edges {
      node {
        ...ApiKeyFragment
      }
    }
  }
  teams {
    edges {
      node {
        name
      }
    }
  }
}
"""

GET_DEFAULT_ENTITY_GQL = """
query GetDefaultEntity {
  viewer {
    id
    entity
  }
}
"""

CREATE_USER_FROM_ADMIN_GQL = """
mutation CreateUserFromAdmin($email: String!, $admin: Boolean) {
  createUser(input: {email: $email, admin: $admin}) {
    user {
      ...UserFragment
    }
  }
}

fragment UserFragment on User {
  id
  name
  username
  email
  admin
}
"""

DELETE_API_KEY_GQL = """
mutation DeleteApiKey($id: String!) {
  deleteApiKey(input: {id: $id}) {
    success
  }
}
"""

GENERATE_API_KEY_GQL = """
mutation GenerateApiKey($description: String) {
  generateApiKey(input: {description: $description}) {
    apiKey {
      ...ApiKeyFragment
    }
  }
}

fragment ApiKeyFragment on ApiKey {
  id
  name
  description
}
"""
