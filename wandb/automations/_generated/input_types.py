# Generated by ariadne-codegen
# Source: core/api/graphql/schemas/schema-latest.graphql

from __future__ import annotations

from pydantic import Field

from wandb._pydantic import GQLId, GQLInput

from .enums import (
    AlertSeverity,
    EventTriggeringConditionType,
    TriggeredActionType,
    TriggerScopeType,
)


class CreateGenericWebhookIntegrationInput(GQLInput):
    entity_name: str = Field(alias="entityName")
    url_endpoint: str = Field(alias="urlEndpoint")
    name: str = Field(max_length=64, pattern="^[-\\w]+([ ]+[-\\w]+)*$")
    secret_ref: str | None = Field(alias="secretRef", default=None)
    access_token_ref: str | None = Field(alias="accessTokenRef", default=None)
    client_mutation_id: str | None = Field(alias="clientMutationId", default=None)


class QueueJobActionInput(GQLInput):
    queue_id: GQLId = Field(alias="queueID")
    template: str


class NotificationActionInput(GQLInput):
    integration_id: GQLId = Field(alias="integrationID")
    title: str | None = None
    message: str | None = None
    severity: AlertSeverity | None = None


class GenericWebhookActionInput(GQLInput):
    integration_id: GQLId = Field(alias="integrationID")
    request_payload: str | None = Field(alias="requestPayload", default=None)


class NoOpTriggeredActionInput(GQLInput):
    no_op: bool | None = Field(alias="noOp", default=None)


class TriggeredActionConfig(GQLInput):
    queue_job_action_input: QueueJobActionInput | None = Field(
        alias="queueJobActionInput", default=None
    )
    notification_action_input: NotificationActionInput | None = Field(
        alias="notificationActionInput", default=None
    )
    generic_webhook_action_input: GenericWebhookActionInput | None = Field(
        alias="genericWebhookActionInput", default=None
    )
    no_op_action_input: NoOpTriggeredActionInput | None = Field(
        alias="noOpActionInput", default=None
    )


class CreateFilterTriggerInput(GQLInput):
    name: str = Field(max_length=255)
    description: str | None = None
    triggering_event_type: EventTriggeringConditionType = Field(
        alias="triggeringEventType"
    )
    scope_type: TriggerScopeType = Field(alias="scopeType")
    scope_id: GQLId = Field(alias="scopeID")
    event_filter: str = Field(alias="eventFilter")
    triggered_action_type: TriggeredActionType = Field(alias="triggeredActionType")
    triggered_action_config: TriggeredActionConfig = Field(
        alias="triggeredActionConfig"
    )
    enabled: bool
    client_mutation_id: str | None = Field(alias="clientMutationId", default=None)


class UpdateFilterTriggerInput(GQLInput):
    id: GQLId
    name: str | None = Field(default=None, max_length=255)
    description: str | None = None
    triggering_event_type: EventTriggeringConditionType | None = Field(
        alias="triggeringEventType", default=None
    )
    scope_type: TriggerScopeType | None = Field(alias="scopeType", default=None)
    scope_id: GQLId | None = Field(alias="scopeID", default=None)
    event_filter: str | None = Field(alias="eventFilter", default=None)
    triggered_action_type: TriggeredActionType | None = Field(
        alias="triggeredActionType", default=None
    )
    triggered_action_config: TriggeredActionConfig | None = Field(
        alias="triggeredActionConfig", default=None
    )
    enabled: bool | None = None
    client_mutation_id: str | None = Field(alias="clientMutationId", default=None)


TriggeredActionConfig.model_rebuild()
CreateFilterTriggerInput.model_rebuild()
UpdateFilterTriggerInput.model_rebuild()
